<div class="page-wrapper">
  <nav>
    <div class="home">
      <a  class="home-button" routerLink = "/" 
      [class.active] = "this.router.url === '/'">Hudsonotron</a>
    </div>

    <div class="pages">
      <div class="dropdown-container">
        <a [ngClass]="{
          'active': this.router.url === '/games/battleship' ||
          this.router.url === '/games/move-around'
        }">Games</a>
        <div class="dropdown-content">
          <div><a routerLink="/games/battleship" [ngClass]="{
            'active': this.router.url === '/games/battleship'
          }"
          >Battleship</a></div>
          <div><a routerLink="/games/move-around" [ngClass]="{
            'active': this.router.url === '/games/move-around'
          }"
          >Move-Around</a></div>
          <div><a routerLink="/games/pong" [class.active]="this.router.url === '/games/pong'">Pong</a></div>
        </div>
      </div>
      <a routerLink="/forum" [class.active] = "this.router.url === '/forum'">Forum</a>
    </div>

    <div class="account-settings">
      <div class="account-dropdown-wrapper">
        <div *ngIf="user" class="dropdown-container">
          <a [class.active] = "this.router.url === '/users/' + user.username">{{ user.username }}</a>
          <div class="dropdown-content">
            <div><a [routerLink]="['/users', user.username]">View Profile</a></div>
            <div><a routerLink="/dashboard">Account Settings</a></div>
            <div><a *ngIf="user" (click)="logout()">Logout</a></div>
          </div>
        </div>
      </div>
      
      
      <a *ngIf="!user" (click)="toggleLogin()">Log In</a>
      <a *ngIf="!user" (click)="toggleRegister()">Sign Up</a>
    </div>
  </nav>
  <router-outlet></router-outlet>
  <app-chat [class.active] = 'isChatActive'></app-chat>
  <div class="footer">
    <a (click)="toggleChat()">chat</a>
  </div>
</div>
<div class="page-content" [class.dimmed] = "this.isPageDimmed" (click)="clickOutside()"></div>

<app-login *ngIf='isLoginActive'></app-login>
<app-register *ngIf='isRegisterActive'></app-register>